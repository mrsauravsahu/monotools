{
  "tests": [
    {
      "name": "single-app: existing PR description with monotools text",
      "repoSetup": [
        "git checkout -b main",
        "git commit -am 'initial commit' --allow-empty",
        "git tag -a '0.1.0' -m '0.1.0'",
        "git commit -am 'second version' --allow-empty",
        "git tag -a '0.2.0' -m '0.2.0'",
        "git commit -am 'third version' --allow-empty",
        "git tag -a '0.3.0' -m '0.3.0'",
        "git commit -am 'third minor bump' --allow-empty",
        "git tag -a '0.3.1' -m '0.3.1'",
        "git checkout -b feat/new-sample-feature",
        "mkdir src",
        "cp ${SEMVER_YEASY_PATH}/__tests__/.gitversion.yml ./",
        "echo \"console.log('hello world')\" > ./src/main.js",
        "git add .; git commit -m 'new feature got merged'"
      ],
      "inputs": {
        "env": {
          "GITVERSION_REPO_TYPE": "SINGLE_APP",
          "GITHUB_HEAD_REF": "feat/new-sample-feature",
          "GITHUB_BASE_REF": "main",
          "DIFF_SOURCE": "main",
          "DIFF_DEST": "feat/new-sample-feature",
          "SEMVERYEASY_CHANGED": "true",
          "PR_DESCRIPTION": "closes #16\r\n\r\n<!-- This is an autogenerated section - #region start PR Description by monotools -->\r\n## impact surface\r\n- apps/semver-yeasy - 0.1.1\r\n\r\n<!-- #region end PR Description by monotools -->\n"
        }
      },
      "expectedOutputs": {
        "changes": "diff_source=main\ndiff_dest=feat/new-sample-feature\nchanged=''\nchanged_services=''\nchanged=true\n",
        "pullRequestDescription": "PR_BODY=<!-- This is an autogenerated section - #region start PR Description by monotools -->\\n## version bump\\n0.3.2\\n\\n<!-- #region end PR Description by monotools -->\n",
        "updatedPullRequestDescription": "UPDATED_PR_BODY=closes #16\\n\\n<!-- This is an autogenerated section - #region start PR Description by monotools -->\\n## version bump\\n0.3.2\\n\\n<!-- #region end PR Description by monotools -->\\n\\n\\n"
      }
    }
  ]
}


